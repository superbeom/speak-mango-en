{
  "name": "Speak Mango",
  "nodes": [
    {
      "parameters": {
        "rule": {
          "interval": [
            {
              "field": "cronExpression",
              "expression": "0 9 * * *"
            }
          ]
        }
      },
      "id": "60422a79-6610-41d5-95f5-5b6e1543592c",
      "name": "Schedule Trigger",
      "type": "n8n-nodes-base.scheduleTrigger",
      "typeVersion": 1.1,
      "position": [-320, -320]
    },
    {
      "parameters": {
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.lmChatGoogleGemini",
      "typeVersion": 1,
      "position": [192, -144],
      "id": "fb5f59aa-5aec-4b58-8642-eaf81503ca3d",
      "name": "Google Gemini Chat Model",
      "credentials": {
        "googlePalmApi": {
          "id": "your-gemini-api-id",
          "name": "Unnamed credential"
        }
      }
    },
    {
      "parameters": {
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.lmChatGoogleGemini",
      "typeVersion": 1,
      "position": [880, 112],
      "id": "8751cdbc-34aa-4684-a9d7-13ff6dfaf626",
      "name": "Google Gemini Chat Model1",
      "credentials": {
        "googlePalmApi": {
          "id": "your-gemini-api-id",
          "name": "Unnamed credential"
        }
      }
    },
    {
      "parameters": {
        "jsCode": "// Ï£ºÏ†ú Î™©Î°ù Ï†ïÏùò (ÎåÄÎ∂ÑÎ•ò/ÏÜåÎ∂ÑÎ•ò Ï≤¥Í≥Ñ Ï†ÅÏö©)\n    const topics = [\n      {\n        domain: \"conversation\",\n        category: \"daily\",\n        topic: \"ÎØ∏Íµ≠ ÏõêÏñ¥ÎØºÏù¥ Îß§Ïùº Ïì∞Îäî ÏÉùÌôú ÏòÅÏñ¥ ÌëúÌòÑ\",\n      },\n      {\n        domain: \"conversation\",\n        category: \"business\",\n        topic: \"ÎπÑÏ¶àÎãàÏä§ ÎØ∏ÌåÖÏù¥ÎÇò Ïù¥Î©îÏùºÏóêÏÑú Íº≠ ÌïÑÏöîÌïú Ï†ïÏ§ëÌïú ÏòÅÏñ¥ ÌëúÌòÑ\",\n      },\n      {\n        domain: \"conversation\",\n        category: \"travel\",\n        topic: \"Ìï¥Ïô∏ Ïó¨ÌñâÌï† Îïå Ïú†Ïö©Ìïú ÌïÑÏàò ÏòÅÏñ¥ ÌëúÌòÑ\",\n      },\n      {\n        domain: \"conversation\",\n        category: \"shopping\",\n        topic: \"Ìï¥Ïô∏ ÏßÅÍµ¨ ÏáºÌïëÏù¥ÎÇò Îß§Ïû•ÏóêÏÑú ÏÇ¨Ïö©ÌïòÎäî ÏáºÌïë Í¥ÄÎ†® ÏòÅÏñ¥ ÌëúÌòÑ\",\n      },\n      {\n        domain: \"conversation\",\n        category: \"emotion\",\n        topic: \"Í∏∞ÏÅ®, Ïä¨Ìîî, ÌôîÎÇ® Îì± Í∞êÏ†ïÏùÑ ÏÑ¨ÏÑ∏ÌïòÍ≤å ÌëúÌòÑÌïòÎäî ÏòÅÏñ¥ Îã®Ïñ¥\",\n      },\n      {\n        domain: \"conversation\",\n        category: \"slang\",\n        topic: \"ÎØ∏ÎìúÎÇò ÏòÅÌôîÏóê ÏûêÏ£º ÎÇòÏò§Îäî ÏµúÏã† Ìä∏Î†åÎîîÌïú Ïä¨Îû≠\",\n      },\n    ];\n\n    // ÎûúÎç§ ÏÑ†ÌÉù\n    const selected = topics[Math.floor(Math.random() * topics.length)];\n\n    return {\n      json: {\n        domain: selected.domain,\n        category: selected.category,\n        topic: selected.topic, // AI ÌîÑÎ°¨ÌîÑÌä∏Ïö©\n      },\n    };"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [-160, -320],
      "id": "6eae6007-a015-40f5-a817-e38ef8534850",
      "name": "Pick Category"
    },
    {
      "parameters": {
        "promptType": "define",
        "text": "=Role: Professional English Teacher\n  Task: Suggest ONE useful English expression related to the category below.\n\n  Domain: {{ $('Pick Category').first().json.domain }}\n  Category: {{ $('Pick Category').first().json.category }}\n\n# EXCLUDED EXPRESSIONS (Do NOT generate these):\n  {{ $items(\"Get Existing Expressions\").map(item => item.json.expression).join(\", \") }}\n\n  Requirements:\n  1. The expression must be practical and widely used.\n  2. **Do NOT use any expression listed in the 'EXCLUDED EXPRESSIONS' list.**\n  3. Capitalization for 'expression':\n     - Start with an UPPERCASE letter for standalone sentences (e.g., \"Don't take it personally\", \"No cap\").\n     - Start with a lowercase letter for general phrases or idioms (e.g., \"spill the tea\", \"hit the road\").\n  4. Punctuation for 'expression': Do NOT include trailing periods (.) or commas (,). Exclamation marks (!) and question marks (?) are allowed.\n  5. For the 'meaning' field:\n     - Provide a concise definition in a casual tone (Î∞òÎßê).\n     - If there are multiple meanings, separate them with ' ¬∑ ' (middle dot).\n     - Do NOT end with a period (.).\n  6. Output MUST be a clean JSON object.\n\n  Output Format (JSON):\n  {\n    \"expression\": \"Hold your horses\",\n    \"meaning\": \"Ïû†Íπê Í∏∞Îã§Î†§ ¬∑ ÏßÑÏ†ïÌï¥\"\n  }",
        "batching": {}
      },
      "type": "@n8n/n8n-nodes-langchain.chainLlm",
      "typeVersion": 1.8,
      "position": [192, -320],
      "id": "08ab4ee3-f631-413e-a2a5-cc95b15f2faa",
      "name": "Gemini Expression Generator",
      "executeOnce": true
    },
    {
      "parameters": {
        "promptType": "define",
        "text": "=Role: Professional English Content Creator & Polyglot Teacher.\nTask: Create a detailed study card for the following English expression in these languages: **English (en), Korean (ko), Japanese (ja), Spanish (es), French (fr), German (de), Russian (ru), Chinese (zh), and Arabic (ar)**.\n\nExpression: {{ $('Parse Expression JSON').item.json.expression }}\nDomain: {{ $('Pick Category').first().json.domain }}\nCategory: {{ $('Pick Category').first().json.category }}\n\nRequirements:\n1. Tone: Friendly, humorous, and engaging (target audience: 20-30s), BUT **MUST use polite language consistently** for explanations.\n    - **English**: Use **Standard English** (Friendly, conversational, yet educational).\n    - **Korean**: Use **Ï°¥ÎåìÎßê (Jondaetmal)**.\n    - **Japanese**: Use **Desu-Masu Form (‰∏ÅÂØßË™û)**.\n    - **Spanish**: Use **'T√∫' form** but keep it respectful and professional.\n    - **French**: Use **'Tu' form** for engagement but maintain a polite, helpful tone (or 'Vous' if context demands strict formality, but 'Tu' is preferred for 20-30s friendly content).\n    - **German**: Use **'Du' form** (friendly, for 20-30s audience).\n    - **Russian**: Use **'–í—ã' (Polite)** for general explanations to maintain authority, or **'—Ç—ã'** if very casual. (Stick to **Friendly '–í—ã'** or respectful **'—Ç—ã'**). Let's use **Friendly '–¢—ã'** for this target audience (20-30s blog style).\n    - **Chinese**: Use **Polite yet friendly (‰Ω† + Êï¨ËØ≠/Polite particles)**.\n    - **Arabic**: Use **Modern Standard Arabic (MSA)** but with a friendly, accessible tone (avoid overly archaic vocabulary).\n\n2. For the 'meaning' field in ALL languages:\n   - **Tone**: Use a **casual tone** by default.\n     - **Korean**: Use **Î∞òÎßê (Banmal)**.\n     - **Japanese**: Use **Plain Form (Tameguchi/„Çø„É°Âè£)**.\n     - **Spanish**: Use **Informal 'T√∫' form**.\n     - **French**: Use **Informal 'Tu' form**.\n     - **German**: Use **Informal 'Du' form**.\n     - **Russian**: Use **Informal '—Ç—ã' form**.\n     - **Chinese**: Use **Casual speech**.\n     - **Arabic**: Use **MSA** (simplified).\n   - **Target Language ONLY**: Definitions must be in the specified Target Language. Do NOT mix with other languages (except for 'en', which uses English).\n   - **EXCEPTION**: If the English expression is formal or typically used in a polite situation (e.g., \"Could I...\", \"May I...\"), use a **polite tone** in all languages.\n     - **Korean**: Ï°¥ÎåìÎßê (Jondaetmal).\n     - **Japanese**: Desu-Masu Form (‰∏ÅÂØßË™û).\n     - **Spanish**: Formal 'Usted' form.\n     - **French**: Formal 'Vous' form.\n     - **German**: Formal 'Sie' form.\n     - **Russian**: Formal '–í—ã' form.\n     - **Chinese**: Polite speech (using 'ÊÇ®' instead of '‰Ω†').\n     - **Arabic**: Formal MSA (Fusha).\n   - For English (en) meaning: Provide a simple, clear definition or synonym in English.\n   - **Punctuation**: If the English expression is a question (?), the meaning MUST also end with a question mark (?) or be phrased as a question. Do NOT use trailing periods (.) for statements.\n   - If there are multiple meanings, separate them with ' ¬∑ ' (middle dot).\n3. Formatting for 'expression':\n   - **Capitalization**: **Start with an UPPERCASE letter** if the expression is a standalone sentence or interjection (e.g., \"No worries\", \"Never mind\", \"Don't take it personally\"). **Start with a lowercase letter** ONLY if it is a phrase or idiom used within a sentence (e.g., \"spill the tea\", \"hit the road\").\n   - Punctuation: Do NOT include trailing periods (.) or commas (,). Exclamation marks (!) and question marks (?) are allowed.\n4. Constraint for content:\n   - **Language Usage**: Use the specific **Target Language** for all explanations (this applies to situation, tips, AND quiz questions/options).\n     *   **English Inclusion Allowed**: You MAY include the English expression or specific English keywords naturally for educational purposes.\n     *   **No Mixed Target Language Scripts**: Do NOT mix in other target languages (e.g., no Japanese characters in Korean content, no Hangul in Spanish).\n   - **NEVER use casual speech** in the explanation, tips, dialogue, or situation description (except for the 'meaning' field).\n     - **English**: Avoid text-speak (e.g., \"u\", \"r\") or excessive slang in explanations; keep it clear and accessible.\n     - **Korean**: No Î∞òÎßê (Banmal).\n     - **Japanese**: No Plain Form (Tameguchi).\n     - **Spanish/French/German/Russian**: Maintain a helpful, teacher-like tone (avoid overly colloquial slang in the explanation text itself).\n   - Do NOT mix polite and casual styles. Keep the tone consistent throughout.\n   - Do NOT address the reader as specific groups like \"Kids\" or \"Students\". Use a general, relatable tone suitable for young adults.\n5. Output MUST be a valid JSON object matching the schema below.\n6. 'meaning' and 'content' fields must contain keys for **en, ko, ja, es, fr, de, ru, zh, ar**.\n7. **Dialogue & Roles (CRITICAL)**:\n   - The `dialogue` field is a **TOP-LEVEL array** (sibling to `meaning` and `content`), NOT inside `content`.\n   - Create a **coherent, natural conversation** between two people (A and B).\n   - **The dialogue MUST consist of 2 or 3 turns (A -> B or A -> B -> A).**\n   - Ensure natural interaction where either speaker can use the target expression in a meaningful context (not limited to a Q&A pattern).\n   - Each entry in the `dialogue` array MUST include:\n     - `\"role\"`: Value \"A\" or \"B\" to distinguish speakers.\n     - `\"en\"`: The English sentence (**English ONLY**).\n     - `\"translations\"`: **CRITICAL** An object containing translations for **ALL 8 target languages**: `\"ko\"`, `\"ja\"`, `\"es\"`, `\"fr\"`, `\"de\"`, `\"ru\"`, `\"zh\"`, `\"ar\"`.\n       *   **Do NOT omit this object or any languages.**\n       *   **Target Language ONLY**: The value MUST contain ONLY the translated text in the target language.\n       *   **Pure Text Only**: Do NOT use markdown formatting (e.g., **bold**, *italic*). **Natural punctuation** (e.g., . , ? ! ') IS allowed and expected to reflect the spoken tone.\n       *   **No Mixed Language (CRITICAL)**: **NEVER** include the original English text or the English expression in the translation. (e.g., **Bad**: \"ÏïàÎÖïÌïòÏÑ∏Ïöî. Hello.\", **Good**: \"ÏïàÎÖïÌïòÏÑ∏Ïöî\")\n8. **Consistency**: Use the 'Example (Korean)' below as a reference for the depth, humor, and style. Apply the same quality to English, Japanese, Spanish, French, German, Russian, Chinese, and Arabic.\n9. **Fixed Fields**: Include the 'domain' and 'category' exactly as provided in the input.\n10. **Quiz Logic (CRITICAL)**:\n    - The quiz must test the understanding of the English expression.\n    - **Randomly select one of the following patterns**:\n      - **Pattern 1 (Situation -> English)**: Describe a situation in [Target Language] and ask \"Which English expression fits this situation?\". -> The options (A, B, C) MUST be **English expressions**.\n        *   *Example (Target Language: ko)*: Q: \"ÏπúÍµ¨Í∞Ä \\\"Ïù¥Î≤à Ï£ºÎßêÏóê ÏòÅÌôî Î≥ºÍπåÏöî?\\\"ÎùºÍ≥† Ï†úÏïàÌñàÏùÑ Îïå, Í∏çÏ†ïÏ†ÅÏúºÎ°ú ÎèôÏùòÌïòÎäî Í∞ÄÏû• ÏûêÏó∞Ïä§Îü¨Ïö¥ ÏòÅÏñ¥ ÌëúÌòÑÏùÄ?\\n\\nA. Sounds bad\\nB. Sounds good\\nC. Sounds angry\"\n      - **Pattern 2 (Expression -> Situation)**: Show the expression and ask \"When would you use this?\" in [Target Language]. -> The options (A, B, C) MUST be **situations described in [Target Language]**.\n        *   *Example (Target Language: ko)*: Q: \"Îã§Ïùå Ï§ë 'What's up?'ÏùÑ Í∞ÄÏû• ÏûêÏó∞Ïä§ÎüΩÍ≤å ÏÇ¨Ïö©Ìï† Ïàò ÏûàÎäî ÏÉÅÌô©ÏùÄ?\\n\\nA. üí∞ ÏùÄÌñâÏóêÏÑú ÎåÄÏ∂ú ÏÉÅÎã¥ÏùÑ Î∞õÍ≥† ÏûàÎã§.\\nB. üöÄ ÌöåÏÇ¨ Ï§ëÏó≠ ÌöåÏùòÏóêÏÑú Î∞úÌëúÎ•º ÏãúÏûëÌïúÎã§.\\nC. üö∂‚Äç‚ôÄÔ∏è Í∏∏ÏùÑ Í±∑Îã§Í∞Ä ÏπúÍµ¨ÏôÄ ÎààÏù¥ ÎßàÏ£ºÏ≥§Îã§.\"\n      - **Pattern 3 (Negative Logic)**: Ask \"Which situation is **NOT** appropriate for this expression?\" in [Target Language]. -> The options (A, B, C) MUST be **situations described in [Target Language]**.\n        *   *Example (Target Language: ko)*: Q: \"Îã§Ïùå Ï§ë 'Let's touch base.'Ïùò ÏÇ¨Ïö©Ïù¥ Ï†ÅÏ†àÌïòÏßÄ ÏïäÏùÄ ÏÉÅÌô©ÏùÄ?\\n\\nA. üôã‚Äç‚ôÄÔ∏è ÌåÄÏõêÍ≥º Ï£ºÍ∞Ñ Î≥¥Í≥†ÏÑúÏóê ÎåÄÌï¥ ÏßßÍ≤å Ïù¥ÏïºÍ∏∞Ìï† Îïå.\\nB. ü•≥ ÏπúÍµ¨Îì§Í≥º Ï£ºÎßêÏóê ÎÜÄÎü¨ Í∞à Í≥ÑÌöçÏùÑ ÏÑ∏Ïö∏ Îïå.\\nC. üßë‚Äçüíª Í≥†Í∞ùÍ≥º Îã§Ïùå Îã®Í≥Ñ ÎÖºÏùòÎ•º ÏúÑÌï¥ Ïó∞ÎùΩÌï† Îïå.\"\n    - **Strict Formatting & Validation Rules**:\n      1. **These rules apply to ALL languages (en, ko, ja, es, fr, de, ru, zh, ar).**\n      2. You **MUST** provide 3 distinct options labeled A, B, and C.\n      3. You **MUST** use `\\n` (newline) to separate the question and each option.\n      4. The 'answer' field MUST be **only the uppercase letter** (e.g., \"A\", \"B\", \"C\"). **NEVER** include the full text of the answer.\n      5. **Randomize the correct answer position**: The correct answer MUST be randomly assigned to A, B, or C. Do NOT default to 'B'. ensure equal distribution of A, B, and C across different generations.\n11. **Tags (MANDATORY)**: Include a `\"tags\"` field containing an array of 3 to 5 lowercase **English** strings (**English ONLY**). These tags should be relevant keywords that help categorize the expression (e.g., \"idiom\", \"office\", \"slang\", \"travel\"). Do NOT include the '#' symbol.\n12. **Currency & Numbers**:\n    - Always use **`$` (USD)** for currency to maintain consistency (e.g., \"$10\", \"$50.50\"). Do not use other currencies like 'won', 'yen', or 'euro' unless the expression specifically requires it.\n    - Use commas for numbers larger than 1,000 (e.g., \"1,000\", \"10,000\").\n\nExample Output (Reference this style for ALL languages):\n{\n  \"expression\": \"under the weather\",\n  \"domain\": \"conversation\",\n  \"category\": \"daily\",\n  \"meaning\": {\n    \"en\": \"not feeling well ¬∑ feeling sick\",\n    \"ko\": \"Î™∏Ïù¥ Ï¢Ä Ïïà Ï¢ãÏïÑ ¬∑ Ïª®ÎîîÏÖòÏù¥ Î≥ÑÎ°úÏïº\",\n    \"ja\": \"‰ΩìË™ø„ÅåÂ∞ë„ÅóÊÇ™„ÅÑ ¬∑ Ê∞óÂàÜ„Åå„Åô„Åê„Çå„Å™„ÅÑ\",\n    \"es\": \"sentirse un poco mal ¬∑ no estar al cien\",\n    \"fr\": \"se sentir mal ¬∑ √™tre patraque\",\n    \"de\": \"sich nicht gut f√ºhlen ¬∑ angeschlagen sein\",\n    \"ru\": \"–Ω–µ–≤–∞–∂–Ω–æ —Å–µ–±—è —á—É–≤—Å—Ç–≤–æ–≤–∞—Ç—å ¬∑ –ø—Ä–∏–±–æ–ª–µ—Ç—å\",\n    \"zh\": \"Ë∫´‰Ωì‰∏çËàíÊúç ¬∑ ÊÑüËßâ‰∏çÂ§™Â•Ω\",\n    \"ar\": \"ŸÑÿ≥ÿ™ ÿπŸÑŸâ ŸÖÿß Ÿäÿ±ÿßŸÖ ¬∑ ÿ£ÿ¥ÿπÿ± ÿ®ÿßŸÑŸÖÿ±ÿ∂\"\n  },\n  \"content\": {\n    \"en\": {\n      \"situation\": \"This is perfect for those days when you wake up feeling a bit sluggish or off. üò± It's a great expression to say you're not 100%, but not seriously ill either! ü§í‚ú®\",\n      \"tip\": \"üí° **Fun Fact!** This idiom is said to come from sailors who would go below deck (under the weather rail) when they felt seasick during bad weather! ‚öìÔ∏èüåä Remember, if you are genuinely sick, it's better to say 'I'm sick' or 'I have a fever'.\",\n      \"quiz\": {\n        \"question\": \"When is the most appropriate time to use 'under the weather'?\\n\\nA. ü•≥ When you are dancing happily at a party.\\nB. üò¥ When you are lying in bed feeling a bit chilly and off.\\nC. üèãÔ∏è‚Äç‚ôÄÔ∏è When you are lifting weights energetically at the gym.\",\n        \"answer\": \"B\"\n      }\n    },\n    \"ko\": {\n      \"situation\": \"üåü ÏïÑÏπ®Ïóê ÏùºÏñ¥ÎÇ¨ÎäîÎç∞ Ïô†ÏßÄ Î™®Î•¥Í≤å Î™∏Ïù¥ Ï∂ï Ï≤òÏßÄÍ≥†, Ïª®ÎîîÏÖòÏù¥ Î≥ÑÎ°úÏùº Îïå! üò± 'ÏïÑ, ÎÇò Ïò§Îäò Î≠îÍ∞Ä Ï¢Ä Î≥ÑÎ°†Îç∞... Î≥ëÎì† Î≥ëÏïÑÎ¶¨ Í∞ôÏïÑ...' Ìï† Îïå Ïì∞Îäî ÌïµÏù∏Ïã∏ ÌëúÌòÑÏù¥ÏóêÏöî! ÏßÑÏßú ÏïÑÌîà Í±¥ ÏïÑÎãåÎç∞ Í∑∏Î†áÎã§Í≥† ÏôÑÏ†Ñ Ïå©Ïå©ÌïòÏßÄÎèÑ ÏïäÏùÑ Îïå, Í∞ÄÎ≥çÍ≤å ÎÇ¥ ÏÉÅÌÉúÎ•º ÎßêÌïòÍ≥† Ïã∂ÏùÑ Îïå Ï∞∞Îñ°Í∞ôÏù¥ Ïì∏ Ïàò ÏûàÎãµÎãàÎã§! ü§í‚ú®\",\n      \"tip\": \"üö® **ÍøÄÌåÅ Î∞©Ï∂ú!** 'under the weather'Îäî ÏßÑÏßú Ïã¨Í∞ÅÌïòÍ≤å ÏïÑÌîå ÎïåÎ≥¥Îã§Îäî Í∞ÄÎ≥çÍ≤å 'Ïª®ÎîîÏÖòÏù¥ Ïïà Ï¢ãÎã§', 'Í∞êÍ∏∞ Í∏∞Ïö¥Ïù¥ ÏûàÎã§' Ï†ïÎèÑÏùò ÎäêÎÇåÏù¥ÏóêÏöî. üò∑ ÎßåÏïΩ ÏßÑÏßú Ïã¨ÌïòÍ≤å ÏïÑÌîÑÎã§Î©¥ 'I'm sick' ÎòêÎäî 'I have a fever'Ï≤òÎüº Íµ¨Ï≤¥Ï†ÅÏúºÎ°ú ÎßêÌïòÎäî Í≤å Ï¢ãÏïÑÏöî. üòâ Í∑∏Î¶¨Í≥† Ïù¥ ÌëúÌòÑÏùÄ Î±ÉÏÇ¨ÎûåÎì§Ïù¥ Î∞∞ÏóêÏÑú ÎÇ†Ïî®Í∞Ä Ïïà Ï¢ãÏùÑ Îïå ÏïÑÌîà ÏÇ¨ÎûåÏùÑ Í∞ëÌåê ÏïÑÎûòÎ°ú Î≥¥ÎÇ¥ 'ÎÇ†Ïî® ÏïÑÎûò'Ïóê ÏûàÍ≤å ÌñàÎã§Îäî Ïú†ÎûòÍ∞Ä ÏûàÎåÄÏöî! ÏôÑÏ†Ñ Ïã†Í∏∞ÌïòÏ£†? ‚öìÔ∏èüåä\",\n      \"quiz\": {\n        \"question\": \"Îã§Ïùå Ï§ë 'under the weather'Î•º ÏÇ¨Ïö©ÌïòÍ∏∞ Í∞ÄÏû• Ï†ÅÏ†àÌïú ÏÉÅÌô©ÏùÄ?\\n\\nA. ü•≥ ÌååÌã∞ÏóêÏÑú Ïã†ÎÇòÍ≤å Ï∂§Ï∂îÍ≥† ÏûàÎã§.\\nB. üò¥ Ïπ®ÎåÄÏóêÏÑú Î∞çÍ∏∞Ï†ÅÍ±∞Î¶¨Î©∞ Î™∏Ïù¥ Ï¢Ä ÏúºÏä¨ÏúºÏä¨ÌïòÎã§.\\nC. üèãÔ∏è‚Äç‚ôÄÔ∏è Ìó¨Ïä§Ïû•ÏóêÏÑú Ïó≠Í∏∞Î•º Îì§Í≥† Ïö¥ÎèôÌïòÍ≥† ÏûàÎã§.\",\n        \"answer\": \"B\"\n      }\n    },\n    \"ja\": {\n      \"situation\": \"ÊúùËµ∑„Åç„ÅüÊôÇ„Å´„ÄÅ„Å™„Çì„Å®„Å™„Åè‰Ωì„Åå„Å†„Çã„Åè„Å¶„Äå‰ªäÊó•„ÅØ„Å™„Çì„Å†„ÅãË™øÂ≠ê„ÅåÊÇ™„ÅÑ„Å™‚Ä¶„Äç„Å®ÊÑü„Åò„ÇãÊôÇ„Å´„Å¥„Å£„Åü„Çä„ÅÆË°®Áèæ„Åß„ÅôÔºÅüò∑ Êú¨ÂΩì„Å´„Å≤„Å©„ÅÑÁóÖÊ∞ó„Åß„ÅØ„Å™„ÅÑ„Åë„Çå„Å©„ÄÅ100%ÂÖÉÊ∞ó„Åß„ÇÇ„Å™„ÅÑÊôÇ„Å´„ÄÅËá™ÂàÜ„ÅÆÁä∂ÊÖã„Çí„Ç´„Ç∏„É•„Ç¢„É´„Å´‰ºù„Åà„Çã„Åì„Å®„Åå„Åß„Åç„Åæ„Åô„ÄÇ‚ú®\",\n      \"tip\": \"üí° **Ë±ÜÁü•Ë≠ò!** „Åì„ÅÆË°®Áèæ„ÅØ„ÄÅÊòî„ÅÆËàπ‰πó„Çä„ÅåÂ§©ÂÄô„ÅåÊÇ™„Åè„Å¶‰ΩìË™ø„ÇíÂ¥©„Åó„ÅüÊôÇ„Å´„ÄÅÁî≤Êùø„ÅÆ‰∏ãÔºàUnder the deckÔºâ„Å´ÈÅøÈõ£„Åó„Åü„Åì„Å®„Åã„Çâ„ÄåUnder the weather„Äç„Å´„Å™„Å£„Åü„Å®„ÅÑ„ÅÜË™¨„Åå„ÅÇ„Çä„Åæ„Åô„ÄÇ‚öìÔ∏è Êú¨ÂΩì„Å´‰ΩìË™ø„ÅåÊÇ™„ÅÑÊôÇ„ÅØ„ÄåI'm sick„Äç„Çí‰Ωø„ÅÑ„Åæ„Åó„Çá„ÅÜÔºÅ\",\n      \"quiz\": {\n        \"question\": \"„Äåunder the weather„Äç„Çí‰Ωø„ÅÜ„ÅÆ„Å´ÊúÄ„ÇÇÈÅ©„Åó„ÅüÁä∂Ê≥Å„ÅØÔºü\\n\\nA. ü•≥ „Éë„Éº„ÉÜ„Ç£„Éº„ÅßÊ•Ω„Åó„ÅèË∏ä„Å£„Å¶„ÅÑ„Çã„ÄÇ\\nB. üò¥ È¢®ÈÇ™Ê∞óÂë≥„Åß„ÄÅ„Éô„ÉÉ„Éâ„Åß‰ºë„Çì„Åß„ÅÑ„Çã„ÄÇ\\nC. üèãÔ∏è‚Äç‚ôÄÔ∏è „Ç∏„É†„ÅßÂÖÉÊ∞ó„Å´„Éà„É¨„Éº„Éã„É≥„Ç∞„Åó„Å¶„ÅÑ„Çã„ÄÇ\",\n        \"answer\": \"B\"\n      }\n    },\n    \"es\": {\n      \"situation\": \"¬°Cuando te despiertas y te sientes un poco cansado o sin energ√≠a! üò± Es una expresi√≥n muy com√∫n para decir que no te sientes al 100%, pero tampoco est√°s gravemente enfermo. ü§í‚ú®\",\n      \"tip\": \"üö® **¬°Dato curioso!** El origen viene de los marineros. Cuando el clima era malo y se sent√≠an mal, bajaban debajo de la cubierta para estar 'bajo el clima'. üåä‚öìÔ∏è Si est√°s realmente enfermo, es mejor usar 'I'm sick'.\",\n      \"quiz\": {\n        \"question\": \"¬øEn qu√© situaci√≥n usar√≠as \\\"under the weather\\\"?\\n\\nA. ü•≥ En una fiesta bailando alegremente.\\nB. üò¥ Descansando en la cama porque te sientes un poco mal.\\nC. üèãÔ∏è‚Äç‚ôÄÔ∏è Entrenando con mucha energ√≠a en el gimnasio.\",\n        \"answer\": \"B\"\n      }\n    },\n    \"fr\": {\n      \"situation\": \"C'est parfait pour les jours o√π vous vous r√©veillez un peu mou. üò± C'est une super expression pour dire que vous n'√™tes pas √† 100%, sans √™tre gravement malade ! ü§í‚ú®\",\n      \"tip\": \"üí° **Le saviez-vous ?** Cette expression viendrait des marins qui descendaient sous le pont pour s'abriter du mauvais temps quand ils avaient le mal de mer ! ‚öìÔ∏èüåä\",\n      \"quiz\": {\n        \"question\": \"Quand est-il le plus appropri√© d'utiliser 'under the weather' ?\\n\\nA. ü•≥ Quand vous dansez joyeusement √† une f√™te.\\nB. üò¥ Quand vous √™tes au lit et que vous vous sentez un peu f√©brile.\\nC. üèãÔ∏è‚Äç‚ôÄÔ∏è Quand vous soulevez des poids √©nergiquement √† la salle de sport.\",\n        \"answer\": \"B\"\n      }\n    },\n    \"de\": {\n      \"situation\": \"Perfekt f√ºr Tage, an denen man aufwacht und sich einfach schlapp f√ºhlt. üò± Ein toller Ausdruck, um zu sagen, dass man nicht 100% fit ist, aber auch nicht ernsthaft krank! ü§í‚ú®\",\n      \"tip\": \"üí° **Schon gewusst?** Diese Redewendung stammt angeblich von Seeleuten, die bei schlechtem Wetter unter Deck gingen, wenn sie seekrank waren! ‚öìÔ∏èüåä\",\n      \"quiz\": {\n        \"question\": \"Wann ist der beste Zeitpunkt, 'under the weather' zu verwenden?\\n\\nA. ü•≥ Wenn du fr√∂hlich auf einer Party tanzt.\\nB. üò¥ Wenn du im Bett liegst und dich etwas kr√§nklich f√ºhlst.\\nC. üèãÔ∏è‚Äç‚ôÄÔ∏è Wenn du im Fitnessstudio energiegeladen Gewichte hebst.\",\n        \"answer\": \"B\"\n      }\n    },\n    \"ru\": {\n      \"situation\": \"–≠—Ç–æ –∏–¥–µ–∞–ª—å–Ω–æ –ø–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è —Ç–µ—Ö –¥–Ω–µ–π, –∫–æ–≥–¥–∞ –≤—ã –ø—Ä–æ—Å—ã–ø–∞–µ—Ç–µ—Å—å —Å —á—É–≤—Å—Ç–≤–æ–º –≤—è–ª–æ—Å—Ç–∏. üò± –û—Ç–ª–∏—á–Ω–æ–µ –≤—ã—Ä–∞–∂–µ–Ω–∏–µ, —á—Ç–æ–±—ã —Å–∫–∞–∑–∞—Ç—å, —á—Ç–æ –≤—ã –Ω–µ –Ω–∞ 100% –≤ —Ñ–æ—Ä–º–µ, –Ω–æ –∏ –Ω–µ —Å–µ—Ä—å–µ–∑–Ω–æ –±–æ–ª—å–Ω—ã! ü§í‚ú®\",\n      \"tip\": \"üí° **–ò–Ω—Ç–µ—Ä–µ—Å–Ω—ã–π —Ñ–∞–∫—Ç!** –ì–æ–≤–æ—Ä—è—Ç, —á—Ç–æ —ç—Ç–∞ –∏–¥–∏–æ–º–∞ –ø–æ—à–ª–∞ –æ—Ç –º–æ—Ä—è–∫–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ —Å–ø—É—Å–∫–∞–ª–∏—Å—å –ø–æ–¥ –ø–∞–ª—É–±—É (under the weather rail), –∫–æ–≥–¥–∞ –∏—Ö —É–∫–∞—á–∏–≤–∞–ª–æ –≤–æ –≤—Ä–µ–º—è —à—Ç–æ—Ä–º–∞! ‚öìÔ∏èüåä\",\n      \"quiz\": {\n        \"question\": \"–ö–æ–≥–¥–∞ —É–º–µ—Å—Ç–Ω–µ–µ –≤—Å–µ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å 'under the weather'?\\n\\nA. ü•≥ –ö–æ–≥–¥–∞ –≤—ã —Ä–∞–¥–æ—Å—Ç–Ω–æ —Ç–∞–Ω—Ü—É–µ—Ç–µ –Ω–∞ –≤–µ—á–µ—Ä–∏–Ω–∫–µ.\\nB. üò¥ –ö–æ–≥–¥–∞ –≤—ã –ª–µ–∂–∏—Ç–µ –≤ –∫—Ä–æ–≤–∞—Ç–∏ –∏ —á—É–≤—Å—Ç–≤—É–µ—Ç–µ –ª–µ–≥–∫–æ–µ –Ω–µ–¥–æ–º–æ–≥–∞–Ω–∏–µ.\\nC. üèãÔ∏è‚Äç‚ôÄÔ∏è –ö–æ–≥–¥–∞ –≤—ã —ç–Ω–µ—Ä–≥–∏—á–Ω–æ –ø–æ–¥–Ω–∏–º–∞–µ—Ç–µ —Ç—è–∂–µ—Å—Ç–∏ –≤ —Å–ø–æ—Ä—Ç–∑–∞–ª–µ.\",\n        \"answer\": \"B\"\n      }\n    },\n    \"zh\": {\n      \"situation\": \"ÂΩì‰Ω†Êó©‰∏äÈÜíÊù•ÊÑüËßâÊúâÁÇπÊ≤°Á≤æÁ•ûÊàñËÄÖ‰∏çËàíÊúçÁöÑÊó∂ÂÄôÔºåÁî®Ëøô‰∏™ËØçÂÜçÂêàÈÄÇ‰∏çËøá‰∫ÜÔºÅüò± ËøôÊòØ‰∏Ä‰∏™ÂæàÂ•ΩÁöÑË°®ËææÔºåÁî®Êù•ÂΩ¢ÂÆπ‰Ω†Áä∂ÊÄÅ‰∏çÊòØ100%Â•ΩÔºå‰ΩÜ‰πüÊ≤°Áîü‰ªÄ‰πàÂ§ßÁóÖÔºÅü§í‚ú®\",\n      \"tip\": \"üí° **ÂÜ∑Áü•ËØÜÔºÅ** ÊçÆËØ¥ËøôÂè•‰π†ËØ≠Ê∫ê‰∫éÊ∞¥ÊâãÔºåÂΩìÈÅáÂà∞ÊÅ∂Âä£Â§©Ê∞îÊÑüÂà∞ÊôïËàπÊó∂Ôºå‰ªñ‰ª¨‰ºöË∫≤Âà∞Áî≤Êùø‰∏ãÈù¢Ôºàunder the weather railÔºâÔºÅ‚öìÔ∏èüåä\",\n      \"quiz\": {\n        \"question\": \"‰ªÄ‰πàÊó∂ÂÄôÊúÄÈÄÇÂêà‰ΩøÁî® 'under the weather'Ôºü\\n\\nA. ü•≥ ÂΩì‰Ω†Âú®Ê¥æÂØπ‰∏äÂºÄÂøÉÂú∞Ë∑≥ËàûÊó∂„ÄÇ\\nB. üò¥ ÂΩì‰Ω†Ë∫∫Âú®Â∫ä‰∏äÊÑüËßâÊúâÁÇπÂèëÂÜ∑‰∏çËàíÊúçÊó∂„ÄÇ\\nC. üèãÔ∏è‚Äç‚ôÄÔ∏è ÂΩì‰Ω†Âú®ÂÅ•Ë∫´ÊàøÁ≤æÂäõÂÖÖÊ≤õÂú∞‰∏æÈáçÊó∂„ÄÇ\",\n        \"answer\": \"B\"\n      }\n    },\n    \"ar\": {\n      \"situation\": \"Ÿáÿ∞ÿß ÿßŸÑÿ™ÿπÿ®Ÿäÿ± ŸÖÿ´ÿßŸÑŸä ŸÑŸÑÿ£ŸäÿßŸÖ ÿßŸÑÿ™Ÿä ÿ™ÿ≥ÿ™ŸäŸÇÿ∏ ŸÅŸäŸáÿß Ÿàÿ£ŸÜÿ™ ÿ™ÿ¥ÿπÿ± ÿ®ÿ®ÿπÿ∂ ÿßŸÑÿÆŸÖŸàŸÑ ÿ£Ÿà ÿßŸÑÿ™ÿπÿ®. üò± ÿ•ŸÜŸá ÿ™ÿπÿ®Ÿäÿ± ÿ±ÿßÿ¶ÿπ ŸÑÿ™ŸÇŸàŸÑ ÿ•ŸÜŸÉ ŸÑÿ≥ÿ™ ŸÅŸä ŸÉÿßŸÖŸÑ ŸÑŸäÿßŸÇÿ™ŸÉÿå ŸÑŸÉŸÜŸÉ ŸÑÿ≥ÿ™ ŸÖÿ±Ÿäÿ∂ÿßŸã ÿ®ÿ¥ŸÉŸÑ ÿÆÿ∑Ÿäÿ± ÿ£Ÿäÿ∂ÿßŸã! ü§í‚ú®\",\n      \"tip\": \"üí° **ÿ≠ŸÇŸäŸÇÿ© ŸÖŸÖÿ™ÿπÿ©!** ŸäŸÇÿßŸÑ ÿ•ŸÜ Ÿáÿ∞ÿß ÿßŸÑŸÖÿµÿ∑ŸÑÿ≠ ÿ¨ÿßÿ° ŸÖŸÜ ÿßŸÑÿ®ÿ≠ÿßÿ±ÿ© ÿßŸÑÿ∞ŸäŸÜ ŸÉÿßŸÜŸàÿß ŸäŸÜÿ≤ŸÑŸàŸÜ ÿ™ÿ≠ÿ™ ÿ≥ÿ∑ÿ≠ ÿßŸÑÿ≥ŸÅŸäŸÜÿ© (ÿ™ÿ≠ÿ™ ÿ≠ÿßÿ¨ÿ≤ ÿßŸÑÿ∑ŸÇÿ≥) ÿπŸÜÿØŸÖÿß Ÿäÿ¥ÿπÿ±ŸàŸÜ ÿ®ÿØŸàÿßÿ± ÿßŸÑÿ®ÿ≠ÿ± ÿ£ÿ´ŸÜÿßÿ° ÿßŸÑÿ∑ŸÇÿ≥ ÿßŸÑÿ≥Ÿäÿ¶! ‚öìÔ∏èüåä\",\n      \"quiz\": {\n        \"question\": \"ŸÖÿ™Ÿâ ŸäŸÉŸàŸÜ ÿßŸÑŸàŸÇÿ™ ÿßŸÑÿ£ŸÜÿ≥ÿ® ŸÑÿßÿ≥ÿ™ÿÆÿØÿßŸÖ ÿπÿ®ÿßÿ±ÿ© 'under the weather'ÿü\\n\\nA. ü•≥ ÿπŸÜÿØŸÖÿß ÿ™ÿ±ŸÇÿµ ÿ®ÿ≥ÿπÿßÿØÿ© ŸÅŸä ÿ≠ŸÅŸÑÿ©.\\nB. üò¥ ÿπŸÜÿØŸÖÿß ÿ™ŸÉŸàŸÜ ŸÖÿ≥ÿ™ŸÑŸÇŸäÿßŸã ŸÅŸä ÿßŸÑÿ≥ÿ±Ÿäÿ± Ÿàÿ™ÿ¥ÿπÿ± ÿ®ÿ®ÿπÿ∂ ÿßŸÑÿ®ÿ±ŸàÿØÿ© ŸàÿßŸÑÿ™ŸàÿπŸÉ.\\nC. üèãÔ∏è‚Äç‚ôÄÔ∏è ÿπŸÜÿØŸÖÿß ÿ™ÿ±ŸÅÿπ ÿßŸÑÿ£ÿ´ŸÇÿßŸÑ ÿ®ŸÜÿ¥ÿßÿ∑ ŸÅŸä ÿµÿßŸÑÿ© ÿßŸÑÿ£ŸÑÿπÿßÿ® ÿßŸÑÿ±Ÿäÿßÿ∂Ÿäÿ©.\",\n        \"answer\": \"B\"\n      }\n    }\n  },\n  \"dialogue\": [\n    {\n      \"role\": \"A\",\n      \"en\": \"Hey, you look a bit down. Are you okay?\",\n      \"translations\": {\n        \"ko\": \"Ï†ÄÍ∏∞, Ï¢Ä Í∏∞Î∂ÑÏù¥ Ïïà Ï¢ãÏïÑ Î≥¥Ïù¥ÎäîÎç∞. Í¥úÏ∞ÆÏïÑÏöî?\",\n        \"ja\": \"„Å≠„Åà„ÄÅ„Å™„Çì„Å†„ÅãÂÖÉÊ∞ó„Åå„Å™„ÅÑ„Åø„Åü„ÅÑ„Å†„Åë„Å©Â§ß‰∏àÂ§´Ôºü\",\n        \"es\": \"Oye, te ves un poco desanimado. ¬øEst√°s bien?\",\n        \"fr\": \"H√©, tu as l'air un peu d√©prim√©. √áa va ?\",\n        \"de\": \"Hey, du siehst ein bisschen niedergeschlagen aus. Alles okay?\",\n        \"ru\": \"–≠–π, —Ç—ã –≤—ã–≥–ª—è–¥–∏—à—å –Ω–µ–º–Ω–æ–≥–æ –ø–æ–¥–∞–≤–ª–µ–Ω–Ω—ã–º. –¢—ã –≤ –ø–æ—Ä—è–¥–∫–µ?\",\n        \"zh\": \"ÂòøÔºå‰Ω†ÁúãËµ∑Êù•ÊúâÁÇπÊ≤Æ‰∏ß„ÄÇ‰Ω†ËøòÂ•ΩÂêóÔºü\",\n        \"ar\": \"ŸÖŸáŸÑÿßŸãÿå ÿ™ÿ®ÿØŸà ŸÖÿ≠ÿ®ÿ∑ÿßŸã ŸÇŸÑŸäŸÑÿßŸã. ŸáŸÑ ÿ£ŸÜÿ™ ÿ®ÿÆŸäÿ±ÿü\"\n      }\n    },\n    {\n      \"role\": \"B\",\n      \"en\": \"I'm feeling a bit under the weather today, so I think I'll just head home early.\",\n      \"translations\": {\n        \"ko\": \"Ïò§Îäò Î™∏Ïù¥ Ï¢Ä Ïïà Ï¢ãÏïÑÏÑú, ÏùºÏ∞ç ÏßëÏóê Í∞ÄÎ†§Í≥†Ïöî.\",\n        \"ja\": \"‰ªäÊó•„ÅØ„Å°„Çá„Å£„Å®‰ΩìË™ø„ÅåÊÇ™„ÅÑ„ÅÆ„Åß„ÄÅÊó©„ÇÅ„Å´Â∏∞„Çç„ÅÜ„Å®ÊÄù„ÅÑ„Åæ„Åô„ÄÇ\",\n        \"es\": \"Hoy me siento un poco mal, as√≠ que creo que me ir√© a casa temprano.\",\n        \"fr\": \"Je ne me sens pas tr√®s bien aujourd'hui, donc je pense que je vais rentrer plus t√¥t.\",\n        \"de\": \"Ich f√ºhle mich heute etwas angeschlagen, deshalb werde ich wohl fr√ºher nach Hause gehen.\",\n        \"ru\": \"–Ø —Å–µ–≥–æ–¥–Ω—è –Ω–µ–≤–∞–∂–Ω–æ —Å–µ–±—è —á—É–≤—Å—Ç–≤—É—é, –ø–æ—ç—Ç–æ–º—É –¥—É–º–∞—é –ø–æ–π—Ç–∏ –¥–æ–º–æ–π –ø–æ—Ä–∞–Ω—å—à–µ.\",\n        \"zh\": \"Êàë‰ªäÂ§©Ë∫´‰ΩìÊúâÁÇπ‰∏çËàíÊúçÔºåÊÉ≥Êó©ÁÇπÂõûÂÆ∂„ÄÇ\",\n        \"ar\": \"ÿ£ÿ¥ÿπÿ± ÿ®ÿ™ŸàÿπŸÉ ŸÇŸÑŸäŸÑ ÿßŸÑŸäŸàŸÖÿå ŸÑÿ∞ÿß ÿ≥ÿ£ÿπŸàÿØ ÿ•ŸÑŸâ ÿßŸÑŸÖŸÜÿ≤ŸÑ ŸÖÿ®ŸÉÿ±ÿßŸã.\"\n      }\n    }\n  ],\n  \"tags\": [\"daily\", \"health\", \"lifestyle\"]\n}",
        "batching": {}
      },
      "type": "@n8n/n8n-nodes-langchain.chainLlm",
      "typeVersion": 1.8,
      "position": [880, -80],
      "id": "cae8a80a-ddfa-4f03-932d-e2f22f442fe4",
      "name": "Gemini Content Generator"
    },
    {
      "parameters": {
        "useCustomSchema": true,
        "schema": "speak_mango_en",
        "operation": "getAll",
        "tableId": "expressions",
        "limit": 1,
        "filters": {
          "conditions": [
            {
              "keyName": "expression",
              "condition": "ilike",
              "keyValue": "=*{{ $('Parse Expression JSON').item.json.expression }}*"
            }
          ]
        }
      },
      "type": "n8n-nodes-base.supabase",
      "typeVersion": 1,
      "position": [496, -64],
      "id": "9217fca3-7a94-4077-96c0-26d37e4a6a54",
      "name": "Check Duplicate",
      "alwaysOutputData": true,
      "credentials": {
        "supabaseApi": {
          "id": "your-supabase-api-id",
          "name": "Supabase account"
        }
      }
    },
    {
      "parameters": {
        "conditions": {
          "options": {
            "caseSensitive": true,
            "leftValue": "",
            "typeValidation": "strict",
            "version": 3
          },
          "conditions": [
            {
              "id": "7588390d-2c9b-4409-9df3-6e365605d4a6",
              "leftValue": "={{ $('Check Duplicate').first().json.expression }}",
              "rightValue": 0,
              "operator": {
                "type": "string",
                "operation": "empty",
                "singleValue": true
              }
            }
          ],
          "combinator": "and"
        },
        "options": {}
      },
      "type": "n8n-nodes-base.if",
      "typeVersion": 2.3,
      "position": [656, -64],
      "id": "b2e22d2a-abc8-41a5-ba15-18b92004e7d3",
      "name": "If New"
    },
    {
      "parameters": {
        "useCustomSchema": true,
        "schema": "speak_mango_en",
        "tableId": "expressions",
        "dataToSend": "autoMapInputData"
      },
      "id": "49569b5d-6f3c-4b58-941a-1154a827cfea",
      "name": "Supabase Insert",
      "type": "n8n-nodes-base.supabase",
      "typeVersion": 1,
      "position": [2304, -80],
      "credentials": {
        "supabaseApi": {
          "id": "your-supabase-api-id",
          "name": "Supabase account"
        }
      }
    },
    {
      "parameters": {
        "jsCode": "  // GeminiÏùò ÏùëÎãµÏóêÏÑú JSON Î¨∏ÏûêÏó¥ Î∂ÄÎ∂ÑÎßå Ï∂îÏ∂úÌïòÏó¨ ÌååÏã±Ìï©ÎãàÎã§.\n  const rawText = $input.first().json.text;\n  // ÎßàÌÅ¨Îã§Ïö¥ ÏΩîÎìú Î∏îÎ°ù(```json ... ```) Ï†úÍ±∞\n  const cleanJson = rawText.replace(/```json/g, \"\").replace(/`/g, \"\").trim();\n\n  try {\n    return {\n      json: JSON.parse(cleanJson)\n    };\n  } catch (error) {\n    // ÌååÏã± Ïã§Ìå® Ïãú ÏóêÎü¨ Î°úÍ∑∏ Î∞òÌôò (ÎîîÎ≤ÑÍπÖÏö©)\n    return {\n      json: {\n        error: \"JSON Parsing Failed\",\n        raw: rawText\n      }\n    };\n  }"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [480, -320],
      "id": "4b391b28-8566-4560-b1df-1fbd42b680ae",
      "name": "Parse Expression JSON"
    },
    {
      "parameters": {
        "jsCode": "  // GeminiÏùò ÏùëÎãµÏóêÏÑú JSON Î¨∏ÏûêÏó¥ Î∂ÄÎ∂ÑÎßå Ï∂îÏ∂úÌïòÏó¨ ÌååÏã±Ìï©ÎãàÎã§.\n  const rawText = $input.first().json.text;\n  // ÎßàÌÅ¨Îã§Ïö¥ ÏΩîÎìú Î∏îÎ°ù(```json ... ```) Ï†úÍ±∞\n  const cleanJson = rawText.replace(/```json/g, \"\").replace(/`/g, \"\").trim();\n\n  try {\n    return {\n      json: JSON.parse(cleanJson)\n    };\n  } catch (error) {\n    // ÌååÏã± Ïã§Ìå® Ïãú ÏóêÎü¨ Î°úÍ∑∏ Î∞òÌôò (ÎîîÎ≤ÑÍπÖÏö©)\n    return {\n      json: {\n        error: \"JSON Parsing Failed\",\n        raw: rawText\n      }\n    };\n  }"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [1168, -80],
      "id": "6dae234a-7f34-4704-bb66-359150049071",
      "name": "Parse Content JSON"
    },
    {
      "parameters": {
        "useCustomSchema": true,
        "schema": "speak_mango_en",
        "operation": "getAll",
        "tableId": "expressions",
        "returnAll": true,
        "matchType": "allFilters",
        "filters": {
          "conditions": [
            {
              "keyName": "category",
              "condition": "eq",
              "keyValue": "={{ $('Pick Category').item.json.category }}"
            }
          ]
        }
      },
      "type": "n8n-nodes-base.supabase",
      "typeVersion": 1,
      "position": [16, -320],
      "id": "6d363283-08a9-4204-bc03-9589e89a7549",
      "name": "Get Existing Expressions",
      "alwaysOutputData": false,
      "executeOnce": false,
      "retryOnFail": false,
      "notesInFlow": false,
      "credentials": {
        "supabaseApi": {
          "id": "your-supabase-api-id",
          "name": "Supabase account"
        }
      }
    },
    {
      "parameters": {
        "jsCode": "// n8n Code Node: Generate UUID\n// Ï§ëÎ≥µÏù¥ ÏïÑÎãòÏù¥ ÌôïÏù∏Îêú ÌõÑ, Ï†ÄÏû• Í≤ΩÎ°ú Î∞è DB IDÎ°ú ÏÇ¨Ïö©Ìï† UUIDÎ•º ÏÉùÏÑ±Ìï©ÎãàÎã§.\n\n// crypto Î™®ÎìàÏù¥ Í∏ÄÎ°úÎ≤åÏóê ÏóÜÏùÑ Í≤ΩÏö∞Î•º ÎåÄÎπÑÌï¥ ÏßÅÏ†ë UUID v4 ÏÉùÏÑ± Î°úÏßÅ ÏÇ¨Ïö©\nconst uuid = 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function(c) {\n  const r = Math.random() * 16 | 0;\n  const v = c === 'x' ? r : (r & 0x3 | 0x8);\n  return v.toString(16);\n});\n\nreturn {\n  json: {\n    ...$input.first().json,\n    id: uuid\n  }\n};"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [1504, -80],
      "id": "5b829c88-78aa-48c5-8da8-5b259f51df6a",
      "name": "Generate ID"
    },
    {
      "parameters": {
        "jsCode": "// n8n Code Node: Prepare TTS Requests (Groq Orpheus V1)\n// ÎåÄÌôîÎ¨∏Ïùò Ïó≠Ìï†(A, B)Ïóê Îî∞Îùº ÏïÑÏù¥ÌÖúÏùÑ Î∂ÑÎ¶¨ÌïòÍ≥† Í∞ÅÍ∞Å Î™©ÏÜåÎ¶¨Î•º Ìï†ÎãπÌï©ÎãàÎã§.\n\nconst items = $input.all();\nlet results = [];\n\nitems.forEach((item, itemIndex) => {\n  const data = item.json;\n\n  // top-level dialogue Ï∂îÏ∂ú\n  const dialogueEntries = data.dialogue || [];\n  const expressionId = data.id;\n\n  dialogueEntries.forEach((entry, lineIndex) => {\n    const rawText = entry.en || \"\";\n    const role = (entry.role || \"A\").toUpperCase();\n\n    // ÌÖçÏä§Ìä∏ Ï†ïÏ†ú\n    const cleanedText = rawText.replace(/\\n/g, \" \").replace(/\\s+/g, \" \").trim();\n\n    // Ïó≠Ìï†Î≥Ñ Î™©ÏÜåÎ¶¨ Ìï†Îãπ\n    const voice = role === \"B\" ? \"troy\" : \"hannah\";\n\n    results.push({\n      json: {\n        ...data, // ÏõêÎ≥∏ Îç∞Ïù¥ÌÑ∞ Ïú†ÏßÄ\n        tts_input: cleanedText.substring(0, 200),\n        tts_voice: voice,\n        tts_line_index: lineIndex,\n        tts_model: \"canopylabs/orpheus-v1-english\",\n        tts_format: \"wav\",\n        tts_endpoint: \"https://api.groq.com/openai/v1/audio/speech\",\n        // Storage Ï†ÄÏû•ÏùÑ ÏúÑÌïú Í≤ΩÎ°ú ÌôïÏ†ï\n        storage_path: `expressions/${expressionId}/${lineIndex}.wav`,\n      },\n      pairedItem: { item: itemIndex },\n    });\n  });\n});\n\nreturn results;"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [1664, -80],
      "id": "ede3e623-0102-4818-b6f5-4c12a32f99ca",
      "name": "Prepare TTS Requests"
    },
    {
      "parameters": {
        "method": "POST",
        "url": "https://api.groq.com/openai/v1/audio/speech",
        "authentication": "genericCredentialType",
        "genericAuthType": "httpHeaderAuth",
        "sendBody": true,
        "bodyParameters": {
          "parameters": [
            {
              "name": "model",
              "value": "canopylabs/orpheus-v1-english"
            },
            {
              "name": "input",
              "value": "={{ $json.tts_input }}"
            },
            {
              "name": "voice",
              "value": "={{ $json.tts_voice }}"
            },
            {
              "name": "response_format",
              "value": "wav"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.3,
      "position": [1824, -80],
      "id": "bd116d19-f0b5-4f81-8bd5-4fde96fe1838",
      "name": "Groq Orpheus TTS",
      "credentials": {
        "httpHeaderAuth": {
          "id": "your-http-header-auth-id",
          "name": "Groq Header Auth"
        }
      }
    },
    {
      "parameters": {
        "method": "POST",
        "url": "=https://<YOUR_PROJECT_REF>.supabase.co/storage/v1/object/speak-mango-en/{{ $json.storage_path }}",
        "authentication": "genericCredentialType",
        "genericAuthType": "httpHeaderAuth",
        "sendBody": true,
        "contentType": "binaryData",
        "inputDataFieldName": "data",
        "options": {
          "response": {
            "response": {
              "responseFormat": "json"
            }
          }
        }
      },
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.3,
      "position": [1984, -80],
      "id": "4ede8024-8434-41e8-9cd3-4a800e3a9705",
      "name": "Upload to Storage",
      "credentials": {
        "httpHeaderAuth": {
          "id": "your-http-header-auth-id",
          "name": "Supabase Header Auth"
        }
      }
    },
    {
      "parameters": {
        "jsCode": "// n8n Code Node: Aggregate TTS Results\n// Î∂ÑÎ¶¨ÎêòÏóàÎçò ÎåÄÌôîÎ¨∏ ÎùºÏù∏Îì§ÏùÑ Îã§Ïãú ÌïòÎÇòÎ°ú Ìï©ÏπòÍ≥† audio_urlÏùÑ Ï£ºÏûÖÌï©ÎãàÎã§.\n\nconst items = $input.all();\nif (items.length === 0) return [];\n\n// 1. ÏõêÎ≥∏ Îç∞Ïù¥ÌÑ∞ Î≥µÏõê (Prepare TTS Requests ÎÖ∏ÎìúÏùò Í≤∞Í≥º Ï∞∏Ï°∞)\nconst firstItem = items[0];\nconst parentItemIndex = firstItem.pairedItem.item;\nconst parentData = $items(\"Prepare TTS Requests\")[parentItemIndex].json;\n\n// ÏõêÎ≥∏ Îç∞Ïù¥ÌÑ∞ Î≥µÏ†ú (deep copy)\nlet finalData = JSON.parse(JSON.stringify(parentData));\n\n// 2. Î∂àÌïÑÏöîÌïú ÏûÑÏãú ÌïÑÎìú ÏùºÍ¥Ñ Ï†úÍ±∞ (tts_ Î°ú ÏãúÏûëÌïòÎäî Î™®Îì† ÌïÑÎìú)\nObject.keys(finalData).forEach((key) => {\n  if (key.startsWith(\"tts_\") || key === \"storage_path\" || key === \"_validation\") {\n    delete finalData[key];\n  }\n});\n\n// 3. Ïò§ÎîîÏò§ URL Ï£ºÏûÖ\nitems.forEach((item) => {\n  const pIdx = item.pairedItem.item;\n  const originalReq = $items(\"Prepare TTS Requests\")[pIdx].json;\n\n  const idx = originalReq.tts_line_index;\n  // Upload to Storage Í≤∞Í≥º(Key)ÏóêÏÑú Í≤ΩÎ°ú Ï∂îÏ∂ú\n  let path = item.json.Key || originalReq.storage_path;\n\n  // Î≤ÑÌÇ∑ Î™ÖÏπ≠(speak-mango-en/)Ïù¥ Ìè¨Ìï®ÎêòÏñ¥ ÏûàÎã§Î©¥ Ï†úÍ±∞ÌïòÏó¨ Í≤ΩÎ°ú Ï†ïÍ∑úÌôî\n  if (path.startsWith(\"speak-mango-en/\")) {\n    path = path.replace(\"speak-mango-en/\", \"\");\n  }\n\n  // top-level dialogueÏóê audio_url Ï£ºÏûÖ\n  if (finalData.dialogue && finalData.dialogue[idx]) {\n    finalData.dialogue[idx].audio_url = path;\n  }\n});\n\nreturn [{ json: finalData }];"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [2144, -80],
      "id": "8aca45c9-383b-4fbd-8adb-033e9aaa5f54",
      "name": "Aggregate TTS Results"
    },
    {
      "parameters": {
        "jsCode": "/**\n * Strict Verification Logic for Gemini Output (n8n Version)\n * Matches rules in: 08_gemini_content_generator_prompt.txt\n * \n * Instructions:\n * 1. Copy ALL code below into an n8n Code Node.\n * 2. Connect it after the 'Parse Content JSON' node.\n * 3. It will validate each item and STOP the workflow if any violations are found.\n */\n\n// ==========================================================================\n//  HELPER FUNCTIONS & CONSTANTS\n// ==========================================================================\n\nconst REGEX = {\n    // Hangul (Korean): Syllables, Jamo, Compatibility Jamo\n    hangul: /[\\uAC00-\\uD7AF\\u1100-\\u11FF\\u3130-\\u318F\\uA960-\\uA97F\\uD7B0-\\uD7FF]/,\n    // Kana (Japanese): Hiragana, Katakana\n    kana: /[\\u3040-\\u309F\\u30A0-\\u30FF]/,\n    // Han (Chinese/Japanese): Unified Ideographs (Common CJK)\n    han: /[\\u4E00-\\u9FCC\\u3400-\\u4DB5]/,\n    // Cyrillic (Russian)\n    cyrillic: /[\\u0400-\\u04FF]/,\n    // Arabic\n    arabic: /[\\u0600-\\u06FF\\u0750-\\u077F]/,\n    // English/Latin (Strict check for leakage)\n    english_letters: /[a-zA-Z]/,\n    // Markdown check (Bold/Italic markers: **, *) - check for paired usages or start/end\n    markdown_emphasis: /(\\*\\*|__|\\*|_)/\n};\n\nconst TARGET_LANGS = ['ko', 'ja', 'es', 'fr', 'de', 'ru', 'zh', 'ar'];\n\n// Heuristic: Explicit exceptions for lowercase-starting Proper Nouns or edge cases\nconst ALLOWED_ENGLISH_TERMS = ['iPhone', 'eBay', 'iMac', 'iPad', 'iOS', 'macOS'];\n\nfunction validateItem(item) {\n    let errors = [];\n    const id = item.id || 'unknown_id';\n\n    // 1. Structure Check\n    if (!item.expression) errors.push(\"Missing 'expression' field.\");\n    if (!item.meaning) errors.push(\"Missing 'meaning' field.\");\n    if (!item.content) errors.push(\"Missing 'content' field.\");\n    if (!item.tags) errors.push(\"Missing 'tags' field.\");\n    if (!item.dialogue || !Array.isArray(item.dialogue)) errors.push(\"Missing 'dialogue' top-level array.\");\n\n    // 2. Tags: Lowercase English Only, No '#'\n    if (item.tags && Array.isArray(item.tags)) {\n        item.tags.forEach(tag => {\n            if (tag.includes('#')) errors.push(`Tag '${tag}' contains '#'.`);\n            if (tag !== tag.toLowerCase()) errors.push(`Tag '${tag}' must be lowercase.`);\n            if (!REGEX.english_letters.test(tag)) errors.push(`Tag '${tag}' must contain English letters.`);\n            if (REGEX.hangul.test(tag) || REGEX.kana.test(tag) || REGEX.cyrillic.test(tag) || REGEX.arabic.test(tag)) {\n                errors.push(`Tag '${tag}' must be English ONLY.`);\n            }\n        });\n    }\n\n    // 3. Meaning: Target Language Only (except En)\n    if (item.meaning) {\n        TARGET_LANGS.forEach(lang => {\n            const text = item.meaning[lang];\n            if (!text) return;\n\n            // Rule: No mixed target languages\n            if (lang === 'ko' && (REGEX.kana.test(text) || REGEX.han.test(text))) errors.push(`Meaning (${lang}) contains Mixed Foreign Script.`);\n            if (lang === 'ja' && REGEX.hangul.test(text)) errors.push(`Meaning (${lang}) contains Mixed Foreign Script (Hangul).`);\n\n            // Rule: No Mixed Language (English Leakage Check)\n            if (['ko', 'ja', 'zh', 'ru', 'ar'].includes(lang)) {\n                checkEnglishInclusion(text, `Meaning (${lang})`, errors);\n            }\n        });\n    }\n\n    // 4. Content: Target Language + English (for explanation) Allowed\n    if (item.content) {\n        TARGET_LANGS.forEach(lang => {\n            const contentObj = item.content[lang];\n            if (!contentObj) return;\n\n            const fieldsToCheck = [\n                contentObj.situation,\n                contentObj.tip,\n                contentObj.quiz?.question,\n                contentObj.quiz?.A,\n                contentObj.quiz?.B,\n                contentObj.quiz?.C\n            ].filter(Boolean);\n\n            fieldsToCheck.forEach(text => {\n                if (lang === 'ko' && REGEX.kana.test(text)) errors.push(`Content (${lang}) contains Kana.`);\n                else if (lang === 'ja' && REGEX.hangul.test(text)) errors.push(`Content (${lang}) contains Hangul.`);\n                else if (['es', 'fr', 'de'].includes(lang)) {\n                    if (REGEX.hangul.test(text) || REGEX.kana.test(text) || REGEX.cyrillic.test(text) || REGEX.arabic.test(text)) {\n                        errors.push(`Content (${lang}) contains Mixed Foreign Script.`);\n                    }\n                }\n            });\n\n            if (contentObj.quiz && contentObj.quiz.answer) {\n                if (!['A', 'B', 'C'].includes(contentObj.quiz.answer)) {\n                    errors.push(`Quiz Answer (${lang}) must be 'A', 'B', or 'C'. Found: ${contentObj.quiz.answer}`);\n                }\n            }\n        });\n    }\n\n    // 5. Dialogue: Top-Level Array\n    if (item.dialogue && Array.isArray(item.dialogue)) {\n        item.dialogue.forEach((dItem, idx) => {\n            if (dItem.en) {\n                if (REGEX.hangul.test(dItem.en) || REGEX.kana.test(dItem.en)) {\n                    errors.push(`Dialogue[${idx}].en contains non-English characters.`);\n                }\n            }\n\n            if (dItem.translations) {\n                TARGET_LANGS.forEach(lang => {\n                    const text = dItem.translations[lang];\n                    if (!text) return;\n\n                    // Rule: Pure Text Only (No Markdown)\n                    if (text.includes('**') || text.includes('__')) {\n                        errors.push(`Dialogue[${idx}].translations.${lang} contains Markdown Bold (**): \"${text}\"`);\n                    }\n\n                    // Rule: No Mixed Language (English Leakage Check)\n                    if (['ko', 'ja', 'zh', 'ru', 'ar'].includes(lang)) {\n                        checkEnglishInclusion(text, `Dialogue[${idx}].translations.${lang}`, errors);\n                    } else {\n                        // Latin Targets (es, fr, de): Check if entire expression leaks\n                        if (item.expression && text.toLowerCase().includes(item.expression.toLowerCase())) {\n                            // Filter false positives where the word is actually correct (e.g. \"Pizza\" -> \"Pizza\")\n                            // Heuristic: If expression > 4 chars, flag it. Short words might be coincidental.\n                            if (item.expression.length > 4) {\n                                errors.push(`Dialogue[${idx}].translations.${lang} contains English expression leakage: \"${item.expression}\"`);\n                            }\n                        }\n                    }\n\n                    // Rule: No Mixed Target Scripts\n                    if (lang === 'ko' && (REGEX.kana.test(text) || REGEX.han.test(text))) errors.push(`Dialogue[${idx}].translations.${lang} contains foreign script.`);\n                    if (lang === 'ja' && REGEX.hangul.test(text)) errors.push(`Dialogue[${idx}].translations.${lang} contains Hangul.`);\n                });\n            }\n        });\n    }\n\n    return {\n        valid: errors.length === 0,\n        errors: errors\n    };\n}\n\n/**\n * Smart English Inclusion Check\n * Allows:\n * 1. Allowlist terms (iPhone, eBay...)\n * 2. Proper Nouns (Start with Uppercase: Instagram, TikTok)\n * 3. Acronyms (All Uppercase: ROI, CEO)\n * Flags:\n * - Lowercase English words (likely leakage)\n */\nfunction checkEnglishInclusion(text, context, errors) {\n    const englishMatches = text.match(/[a-zA-Z]{2,}/g) || [];\n\n    const invalidWords = englishMatches.filter(word => {\n        // 1. Allowed if in Allowlist (Case-insensitive)\n        if (ALLOWED_ENGLISH_TERMS.some(term => term.toLowerCase() === word.toLowerCase())) return false;\n\n        // 2. Allowed if Starts with Uppercase (Proper Noun / Acronym)\n        // e.g. Instagram, TikTok, ROI, CEO, TV\n        if (/^[A-Z]/.test(word)) return false;\n\n        // 3. Otherwise (Lowercase), Flag it!\n        // e.g. \"reach\", \"out\", \"hello\", \"meaning\"\n        return true;\n    });\n\n    if (invalidWords.length > 0) {\n        errors.push(`${context} contains English leakage: ${invalidWords.join(\", \")}`);\n    }\n}\n\n\n// ==========================================================================\n//  N8N EXECUTION BLOCK\n// ==========================================================================\n\nconst allViolations = [];\n\n// Iterate over all input items\nfor (const item of $input.all()) {\n    // Assuming the parsed JSON is in item.json\n    // If your n8n output structure is flattened, adjust 'dataToCheck' accordingly.\n    const dataToCheck = item.json;\n\n    // Run validation\n    const result = validateItem(dataToCheck); // dataToCheck should be the object with expression, meaning, etc.\n\n    if (!result.valid) {\n        allViolations.push({\n            expression: dataToCheck.expression,\n            errors: result.errors\n        });\n\n        // Mark the item as invalid (optional, for debugging downstream if we don't throw)\n        item.json._validation = { status: 'error', errors: result.errors };\n    } else {\n        item.json._validation = { status: 'success' };\n    }\n}\n\n// STOP THE WORKFLOW IF VIOLATIONS FOUND\nif (allViolations.length > 0) {\n    // Format error message\n    const errorMsg = allViolations.map(v =>\n        `[${v.expression}] Errors: ${v.errors.join('; ')}`\n    ).join('\\n');\n\n    // Throw error to stop workflow and show violations\n    throw new Error(`‚ùå Strict Validation Failed for ${allViolations.length} items:\\n${errorMsg}`);\n}\n\n// If all good, return items\nreturn $input.all();"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [1344, -80],
      "id": "dce063e0-367f-41f0-a027-55a7d7987fdb",
      "name": "Validate Content"
    }
  ],
  "pinData": {},
  "connections": {
    "Schedule Trigger": {
      "main": [
        [
          {
            "node": "Pick Category",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Google Gemini Chat Model": {
      "ai_languageModel": [
        [
          {
            "node": "Gemini Expression Generator",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "Google Gemini Chat Model1": {
      "ai_languageModel": [
        [
          {
            "node": "Gemini Content Generator",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "Pick Category": {
      "main": [
        [
          {
            "node": "Get Existing Expressions",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Gemini Expression Generator": {
      "main": [
        [
          {
            "node": "Parse Expression JSON",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Gemini Content Generator": {
      "main": [
        [
          {
            "node": "Parse Content JSON",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Check Duplicate": {
      "main": [
        [
          {
            "node": "If New",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "If New": {
      "main": [
        [
          {
            "node": "Gemini Content Generator",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Parse Expression JSON": {
      "main": [
        [
          {
            "node": "Check Duplicate",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Parse Content JSON": {
      "main": [
        [
          {
            "node": "Validate Content",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Get Existing Expressions": {
      "main": [
        [
          {
            "node": "Gemini Expression Generator",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Generate ID": {
      "main": [
        [
          {
            "node": "Prepare TTS Requests",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Prepare TTS Requests": {
      "main": [
        [
          {
            "node": "Groq Orpheus TTS",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Groq Orpheus TTS": {
      "main": [
        [
          {
            "node": "Upload to Storage",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Upload to Storage": {
      "main": [
        [
          {
            "node": "Aggregate TTS Results",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Aggregate TTS Results": {
      "main": [
        [
          {
            "node": "Supabase Insert",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Validate Content": {
      "main": [
        [
          {
            "node": "Generate ID",
            "type": "main",
            "index": 0
          }
        ]
      ]
    }
  },
  "active": false,
  "settings": {
    "executionOrder": "v1",
    "availableInMCP": false
  },
  "versionId": "your-version-id",
  "meta": {
    "templateCredsSetupCompleted": true,
    "instanceId": "your-instance-id"
  },
  "id": "your-workflow-id",
  "tags": []
}
